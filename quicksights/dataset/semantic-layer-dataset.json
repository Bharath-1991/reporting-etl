{"resourceType":"dataset","dataSetId":"semantic-layer-dataset","name":"Semantic Layer","physicalTableMap":{"aa2c587a-68d3-4a57-85bf-629400b8a3ee":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","catalog":"$DATA_CATALOG","schema":"$DB_DATA_CATALOG","name":"semantic_deposit","inputColumns":[{"name":"deposit_date","type":"DATETIME"},{"name":"deposit_last_updated","type":"DATETIME"},{"name":"deposit_amount","type":"DECIMAL"},{"name":"deposit_currency","type":"STRING"},{"name":"deposit_is_test_payment","type":"BOOLEAN"},{"name":"deposit_status","type":"STRING"},{"name":"deposit_refunded_amount","type":"DECIMAL"},{"name":"deposit_type","type":"STRING"},{"name":"deposit_refunded_date","type":"DATETIME"},{"name":"deposit_amount_captured","type":"DECIMAL"},{"name":"deposit_order_id","type":"INTEGER"}]}},"482ae6ee-347f-402c-aea2-ae48905719cf":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_dealership","inputColumns":[{"name":"dealership_id","type":"INTEGER"},{"name":"dealership_created","type":"DATETIME"},{"name":"dealership_last_updated","type":"DATETIME"},{"name":"dealership_uid","type":"STRING"},{"name":"dealership_name","type":"STRING"},{"name":"dealership_city","type":"STRING"},{"name":"dealership_is_active","type":"BOOLEAN"},{"name":"dealership_organization_id","type":"INTEGER"},{"name":"dealership_compulsory_login","type":"BOOLEAN"},{"name":"dealership_country","type":"STRING"},{"name":"dealership_oem","type":"STRING"},{"name":"dealership_compulsory_login_vdp","type":"BOOLEAN"},{"name":"dealership_province_code","type":"STRING"},{"name":"dealership_is_demo","type":"BOOLEAN"}]}},"f1c15705-e0c2-4f7b-8fa7-a4650b985c81":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_vehicle","inputColumns":[{"name":"vehicle_id","type":"INTEGER"},{"name":"vehicle_created","type":"DATETIME"},{"name":"vehicle_last_updated","type":"DATETIME"},{"name":"vehicle_uid","type":"STRING"},{"name":"vehicle_year","type":"INTEGER"},{"name":"vehicle_make","type":"STRING"},{"name":"vehicle_model","type":"STRING"},{"name":"vehicle_trim","type":"STRING"},{"name":"vehicle_exterior_color","type":"STRING"},{"name":"vehicle_interior_color","type":"STRING"},{"name":"vehicle_transmission","type":"STRING"},{"name":"vehicle_condition","type":"STRING"},{"name":"vehicle_stock_status","type":"STRING"},{"name":"vehicle_jato_id","type":"STRING"},{"name":"vehicle_dealership_uid","type":"STRING"},{"name":"vehicle_fuel_type","type":"STRING"},{"name":"vehicle_option_count","type":"INTEGER"},{"name":"vehicle_option_descriptions","type":"STRING"},{"name":"vehicle_package_count","type":"INTEGER"},{"name":"vehicle_package_descriptions","type":"STRING"},{"name":"vehicle_is_active","type":"BOOLEAN"},{"name":"vehicle_oem_id","type":"STRING"}]}},"7ed3ea60-daef-4253-a093-b2e6468870b2":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_agg_protection_plan","inputColumns":[{"name":"agg_protection_plan_order_id","type":"INTEGER"},{"name":"agg_protection_plan_count","type":"INTEGER"},{"name":"agg_protection_plan_name","type":"STRING"},{"name":"agg_protection_plan_code","type":"STRING"},{"name":"agg_protection_plan_description","type":"STRING"}]}},"29849dc8-1c05-4e38-9465-2ee68c4b3818":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_agg_accessory","inputColumns":[{"name":"agg_accessory_order_id","type":"INTEGER"},{"name":"agg_accessory_count","type":"INTEGER"},{"name":"agg_accessory_name","type":"STRING"},{"name":"agg_accessory_code","type":"STRING"},{"name":"agg_accessory_description","type":"STRING"}]}},"a3e48f5a-f99a-470e-ba00-9ccc98d0a819":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_order","inputColumns":[{"name":"order_id","type":"INTEGER"},{"name":"order_created","type":"DATETIME"},{"name":"order_last_updated","type":"DATETIME"},{"name":"order_customer_id","type":"INTEGER"},{"name":"order_vehicle_id","type":"INTEGER"},{"name":"order_payment_type","type":"STRING"},{"name":"order_dealership_id","type":"INTEGER"},{"name":"order_dealer_id","type":"INTEGER"}]}},"24ece0f3-28f5-4203-aba7-12622a4722a3":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_accessory","inputColumns":[{"name":"accessory_order_id","type":"INTEGER"},{"name":"accessory_is_installed","type":"BOOLEAN"},{"name":"accessory_name","type":"STRING"},{"name":"accessory_sku","type":"STRING"},{"name":"accessory_description","type":"STRING"}]}},"b100417c-71c4-445f-b196-b9fc49fd7fe3":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_trade_in","inputColumns":[{"name":"trade_in_offer_status","type":"STRING"},{"name":"trade_in_decision_date","type":"DATETIME"},{"name":"trade_in_offer_date","type":"DATETIME"},{"name":"trade_in_submitted_date","type":"DATETIME"},{"name":"trade_in_customer_id","type":"INTEGER"},{"name":"trade_in_status","type":"STRING"}]}},"0d4ffe79-ebb2-4661-b010-2f46bd96855e":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_customer","inputColumns":[{"name":"customer_id","type":"INTEGER"},{"name":"customer_email","type":"STRING"},{"name":"customer_source","type":"STRING"}]}},"2f592bd9-5d93-4527-9e9a-8f8f262c0a9d":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_credit_application","inputColumns":[{"name":"creditapp_order_id","type":"INTEGER"},{"name":"creditapp_application_id","type":"INTEGER"},{"name":"creditapp_decision_time","type":"DATETIME"},{"name":"creditapp_submit_time","type":"DATETIME"},{"name":"creditapp_status","type":"INTEGER"}]}},"e7de50a4-9948-4868-8d0a-0138ec18a161":{"relationalTable":{"dataSourceArn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:datasource/athena-datasource","schema":"$DB_DATA_CATALOG","name":"semantic_appointment","inputColumns":[{"name":"appointment_id","type":"INTEGER"},{"name":"appointment_created","type":"DATETIME"},{"name":"appointment_last_updated","type":"DATETIME"},{"name":"appointment_datetime","type":"DATETIME"},{"name":"appointment_order_id","type":"INTEGER"}]}}},"logicalTableMap":{"493415a1-bd0c-4daa-ada1-576acc007459":{"alias":"semantic_deposit","source":{"physicalTableId":"aa2c587a-68d3-4a57-85bf-629400b8a3ee"}},"cd33ebf9-ab23-409e-ab3e-7c9182a8c5fd":{"alias":"semantic_accessory","source":{"physicalTableId":"24ece0f3-28f5-4203-aba7-12622a4722a3"}},"ff676e13-86fb-4309-82bd-7d487dc8ff16":{"alias":"Intermediate Table (6)","source":{"joinInstruction":{"leftOperand":"775dfc31-3f10-4ea5-b2d1-2435bca71951","rightOperand":"729eb298-fc2a-486d-b793-58039c69697a","type":"LEFT","onClause":"{customer_id} = {trade_in_customer_id}"}}},"093950b8-37e5-47c9-b574-0de4a470fdd0":{"alias":"Intermediate Table (4)","source":{"joinInstruction":{"leftOperand":"e032d04f-1c50-432c-a4ef-08f820152660","rightOperand":"cd33ebf9-ab23-409e-ab3e-7c9182a8c5fd","type":"LEFT","onClause":"{order_id} = {accessory_order_id}"}}},"5c6c6fd2-01eb-44b4-a54e-37b8aa3d88ce":{"alias":"semantic_vehicle","source":{"physicalTableId":"f1c15705-e0c2-4f7b-8fa7-a4650b985c81"}},"dcc4e620-9fbc-4d75-849d-267de8fce789":{"alias":"semantic_agg_protection_plan","source":{"physicalTableId":"7ed3ea60-daef-4253-a093-b2e6468870b2"}},"a3e48f5a-f99a-470e-ba00-9ccc98d0a819":{"alias":"semantic_order","source":{"physicalTableId":"a3e48f5a-f99a-470e-ba00-9ccc98d0a819"}},"f8dc7e31-3a36-4dd2-82ce-b2ed31bd5402":{"alias":"Intermediate Table (10)","dataTransforms":[{"createColumnsOperation":{"columns":[{"columnName":"deposit","columnId":"8d1d29c1-67e4-4fda-83f9-5cff08c97384","expression":"(ifelse(deposit_status = 'confirmed' OR deposit_status = 'refunded', 'yes', 'no'))"}]}},{"createColumnsOperation":{"columns":[{"columnName":"refund","columnId":"edb8d323-313b-442b-8fef-1ee5084d1bba","expression":"(ifelse(deposit_status = 'refunded', 'yes', 'no'))"}]}},{"createColumnsOperation":{"columns":[{"columnName":"appointment","columnId":"4ea20cad-00ab-492c-91a8-e1e465b5c14f","expression":"ifelse(isNull(appointment_id), 'no', 'yes')"}]}},{"createColumnsOperation":{"columns":[{"columnName":"credit_application","columnId":"39184c78-7b97-40af-8683-2b950fe7f64e","expression":"ifelse(in(creditapp_status, [2,3,4,5]), 'yes', 'no')"}]}},{"createColumnsOperation":{"columns":[{"columnName":"trade_in","columnId":"164ff6a3-f669-44dd-a7a8-ea1e323f64f3","expression":"ifelse(trade_in_status = 'Draft' OR isNull(trade_in_status), 'no', 'yes')"}]}},{"createColumnsOperation":{"columns":[{"columnName":"deposit_success_date","columnId":"fec1adf0-a3ab-444e-80c1-c719c8368e04","expression":"ifelse(deposit = 'yes', deposit_date, NULL)"}]}},{"projectOperation":{"projectedColumns":["order_id","order_created","order_last_updated","order_customer_id","order_vehicle_id","order_payment_type","order_dealership_id","order_dealer_id","vehicle_id","vehicle_created","vehicle_last_updated","vehicle_uid","vehicle_year","vehicle_make","vehicle_model","vehicle_trim","vehicle_exterior_color","vehicle_interior_color","vehicle_transmission","vehicle_condition","vehicle_stock_status","vehicle_jato_id","vehicle_dealership_uid","vehicle_fuel_type","vehicle_option_count","vehicle_option_descriptions","vehicle_package_count","vehicle_package_descriptions","vehicle_is_active","vehicle_oem_id","creditapp_order_id","creditapp_application_id","creditapp_decision_time","creditapp_submit_time","creditapp_status","appointment_id","appointment_created","appointment_last_updated","appointment_datetime","appointment_order_id","accessory_order_id","accessory_is_installed","accessory_name","accessory_sku","accessory_description","customer_id","customer_email","customer_source","trade_in_offer_status","trade_in_decision_date","trade_in_offer_date","trade_in_submitted_date","trade_in_customer_id","trade_in_status","dealership_id","dealership_created","dealership_last_updated","dealership_uid","dealership_name","dealership_city","dealership_is_active","dealership_organization_id","dealership_compulsory_login","dealership_country","dealership_oem","dealership_compulsory_login_vdp","dealership_province_code","dealership_is_demo","deposit_date","deposit_last_updated","deposit_amount","deposit_currency","deposit_is_test_payment","deposit_status","deposit_refunded_amount","deposit_type","deposit_refunded_date","deposit_amount_captured","deposit_order_id","agg_accessory_order_id","agg_accessory_count","agg_accessory_name","agg_accessory_code","agg_accessory_description","agg_protection_plan_order_id","agg_protection_plan_count","agg_protection_plan_name","agg_protection_plan_code","agg_protection_plan_description","deposit","refund","appointment","credit_application","trade_in","deposit_success_date"]}}],"source":{"joinInstruction":{"leftOperand":"0e2cd42f-a481-4bf4-aff0-5a9f1eb3c6dc","rightOperand":"dcc4e620-9fbc-4d75-849d-267de8fce789","type":"LEFT","onClause":"{order_id} = {agg_protection_plan_order_id}"}}},"e032d04f-1c50-432c-a4ef-08f820152660":{"alias":"Intermediate Table (3)","source":{"joinInstruction":{"leftOperand":"a4072a9b-6240-48ac-b7f3-97630bc51f10","rightOperand":"6ec67893-eede-4eef-8fcd-8ce1fbd1a761","type":"LEFT","onClause":"{order_id} = {appointment_order_id}"}}},"775dfc31-3f10-4ea5-b2d1-2435bca71951":{"alias":"Intermediate Table (5)","source":{"joinInstruction":{"leftOperand":"093950b8-37e5-47c9-b574-0de4a470fdd0","rightOperand":"785bef6a-4f16-44c4-8425-6006f9f5a2bf","type":"LEFT","onClause":"{order_customer_id} = {customer_id}"}}},"bf363bfb-cf99-4800-86dd-e080daa67e1a":{"alias":"Intermediate Table (8)","source":{"joinInstruction":{"leftOperand":"d0e670c0-0b96-4a72-9154-a3d0b997f467","rightOperand":"493415a1-bd0c-4daa-ada1-576acc007459","type":"LEFT","onClause":"{order_id} = {deposit_order_id}"}}},"12e01129-dab6-4e7d-af51-a934aea9d96d":{"alias":"semantic_dealership","dataTransforms":[{"castColumnTypeOperation":{"columnName":"dealership_organization_id","newColumnType":"STRING"}}],"source":{"physicalTableId":"482ae6ee-347f-402c-aea2-ae48905719cf"}},"6ec67893-eede-4eef-8fcd-8ce1fbd1a761":{"alias":"semantic_appointment","source":{"physicalTableId":"e7de50a4-9948-4868-8d0a-0138ec18a161"}},"0e2cd42f-a481-4bf4-aff0-5a9f1eb3c6dc":{"alias":"Intermediate Table (9)","source":{"joinInstruction":{"leftOperand":"bf363bfb-cf99-4800-86dd-e080daa67e1a","rightOperand":"f254b842-2458-4078-8fe4-fb8abcc44f6c","type":"LEFT","onClause":"{order_id} = {agg_accessory_order_id}"}}},"a4072a9b-6240-48ac-b7f3-97630bc51f10":{"alias":"Intermediate Table (2)","source":{"joinInstruction":{"leftOperand":"3bda269a-a046-4d6a-83fc-68dc14ff7e01","rightOperand":"9c5bb969-050f-48ec-b656-10e47e26532a","type":"LEFT","onClause":"{order_id} = {creditapp_order_id}"}}},"785bef6a-4f16-44c4-8425-6006f9f5a2bf":{"alias":"semantic_customer","source":{"physicalTableId":"0d4ffe79-ebb2-4661-b010-2f46bd96855e"}},"3bda269a-a046-4d6a-83fc-68dc14ff7e01":{"alias":"Intermediate Table","source":{"joinInstruction":{"leftOperand":"a3e48f5a-f99a-470e-ba00-9ccc98d0a819","rightOperand":"5c6c6fd2-01eb-44b4-a54e-37b8aa3d88ce","type":"LEFT","onClause":"{order_vehicle_id} = {vehicle_id}"}}},"729eb298-fc2a-486d-b793-58039c69697a":{"alias":"semantic_trade_in","source":{"physicalTableId":"b100417c-71c4-445f-b196-b9fc49fd7fe3"}},"d0e670c0-0b96-4a72-9154-a3d0b997f467":{"alias":"Intermediate Table (7)","source":{"joinInstruction":{"leftOperand":"ff676e13-86fb-4309-82bd-7d487dc8ff16","rightOperand":"12e01129-dab6-4e7d-af51-a934aea9d96d","type":"LEFT","onClause":"{order_dealership_id} = {dealership_id}"}}},"f254b842-2458-4078-8fe4-fb8abcc44f6c":{"alias":"semantic_agg_accessory","source":{"physicalTableId":"29849dc8-1c05-4e38-9465-2ee68c4b3818"}},"9c5bb969-050f-48ec-b656-10e47e26532a":{"alias":"semantic_credit_application","source":{"physicalTableId":"2f592bd9-5d93-4527-9e9a-8f8f262c0a9d"}}},"outputColumns":[{"name":"order_id","type":"INTEGER"},{"name":"order_created","type":"DATETIME"},{"name":"order_last_updated","type":"DATETIME"},{"name":"order_customer_id","type":"INTEGER"},{"name":"order_vehicle_id","type":"INTEGER"},{"name":"order_payment_type","type":"STRING"},{"name":"order_dealership_id","type":"INTEGER"},{"name":"order_dealer_id","type":"INTEGER"},{"name":"vehicle_id","type":"INTEGER"},{"name":"vehicle_created","type":"DATETIME"},{"name":"vehicle_last_updated","type":"DATETIME"},{"name":"vehicle_uid","type":"STRING"},{"name":"vehicle_year","type":"INTEGER"},{"name":"vehicle_make","type":"STRING"},{"name":"vehicle_model","type":"STRING"},{"name":"vehicle_trim","type":"STRING"},{"name":"vehicle_exterior_color","type":"STRING"},{"name":"vehicle_interior_color","type":"STRING"},{"name":"vehicle_transmission","type":"STRING"},{"name":"vehicle_condition","type":"STRING"},{"name":"vehicle_stock_status","type":"STRING"},{"name":"vehicle_jato_id","type":"STRING"},{"name":"vehicle_dealership_uid","type":"STRING"},{"name":"vehicle_fuel_type","type":"STRING"},{"name":"vehicle_option_count","type":"INTEGER"},{"name":"vehicle_option_descriptions","type":"STRING"},{"name":"vehicle_package_count","type":"INTEGER"},{"name":"vehicle_package_descriptions","type":"STRING"},{"name":"vehicle_is_active","type":"INTEGER"},{"name":"vehicle_oem_id","type":"STRING"},{"name":"creditapp_order_id","type":"INTEGER"},{"name":"creditapp_application_id","type":"INTEGER"},{"name":"creditapp_decision_time","type":"DATETIME"},{"name":"creditapp_submit_time","type":"DATETIME"},{"name":"creditapp_status","type":"INTEGER"},{"name":"appointment_id","type":"INTEGER"},{"name":"appointment_created","type":"DATETIME"},{"name":"appointment_last_updated","type":"DATETIME"},{"name":"appointment_datetime","type":"DATETIME"},{"name":"appointment_order_id","type":"INTEGER"},{"name":"accessory_order_id","type":"INTEGER"},{"name":"accessory_is_installed","type":"INTEGER"},{"name":"accessory_name","type":"STRING"},{"name":"accessory_sku","type":"STRING"},{"name":"accessory_description","type":"STRING"},{"name":"customer_id","type":"INTEGER"},{"name":"customer_email","type":"STRING"},{"name":"customer_source","type":"STRING"},{"name":"trade_in_offer_status","type":"STRING"},{"name":"trade_in_decision_date","type":"DATETIME"},{"name":"trade_in_offer_date","type":"DATETIME"},{"name":"trade_in_submitted_date","type":"DATETIME"},{"name":"trade_in_customer_id","type":"INTEGER"},{"name":"trade_in_status","type":"STRING"},{"name":"dealership_id","type":"INTEGER"},{"name":"dealership_created","type":"DATETIME"},{"name":"dealership_last_updated","type":"DATETIME"},{"name":"dealership_uid","type":"STRING"},{"name":"dealership_name","type":"STRING"},{"name":"dealership_city","type":"STRING"},{"name":"dealership_is_active","type":"INTEGER"},{"name":"dealership_organization_id","type":"STRING"},{"name":"dealership_compulsory_login","type":"INTEGER"},{"name":"dealership_country","type":"STRING"},{"name":"dealership_oem","type":"STRING"},{"name":"dealership_compulsory_login_vdp","type":"INTEGER"},{"name":"dealership_province_code","type":"STRING"},{"name":"dealership_is_demo","type":"INTEGER"},{"name":"deposit_date","type":"DATETIME"},{"name":"deposit_last_updated","type":"DATETIME"},{"name":"deposit_amount","type":"DECIMAL"},{"name":"deposit_currency","type":"STRING"},{"name":"deposit_is_test_payment","type":"INTEGER"},{"name":"deposit_status","type":"STRING"},{"name":"deposit_refunded_amount","type":"DECIMAL"},{"name":"deposit_type","type":"STRING"},{"name":"deposit_refunded_date","type":"DATETIME"},{"name":"deposit_amount_captured","type":"DECIMAL"},{"name":"deposit_order_id","type":"INTEGER"},{"name":"agg_accessory_order_id","type":"INTEGER"},{"name":"agg_accessory_count","type":"INTEGER"},{"name":"agg_accessory_name","type":"STRING"},{"name":"agg_accessory_code","type":"STRING"},{"name":"agg_accessory_description","type":"STRING"},{"name":"agg_protection_plan_order_id","type":"INTEGER"},{"name":"agg_protection_plan_count","type":"INTEGER"},{"name":"agg_protection_plan_name","type":"STRING"},{"name":"agg_protection_plan_code","type":"STRING"},{"name":"agg_protection_plan_description","type":"STRING"},{"name":"deposit","type":"STRING"},{"name":"refund","type":"STRING"},{"name":"appointment","type":"STRING"},{"name":"credit_application","type":"STRING"},{"name":"trade_in","type":"STRING"},{"name":"deposit_success_date","type":"DATETIME"}],"importMode":"DIRECT_QUERY","fieldFolders":{},"rowLevelPermissionDataSet":{"namespace":"default","arn":"arn:aws:quicksight:$REGION:$ACCOUNT_ID:dataset/permissions-dataset","permissionPolicy":"GRANT_ACCESS","formatVersion":"VERSION_1","status":"ENABLED"},"dataSetUsageConfiguration":{"disableUseAsDirectQuerySource":false,"disableUseAsImportedSource":false}}